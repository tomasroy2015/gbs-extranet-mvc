@model gbsExtranetMVC.Models.Repositories.SystemConfigurationExt
@using Resources
@{
    ViewBag.Title = "SystemConfiguration";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 style="color: black; text-align: center;">@Resources.SystemConfiguration</h2>
<style>
    .tblUsers {
        text-align: left;
    }

        .tblUsers th, td {
            padding-top: 10px;
        }

        .tblUsers td {
            padding-left: 15px;
        }
</style>

<div id="content" class="span10">
    @using (Html.BeginForm("SystemConfiguration", "SystemConfiguration", FormMethod.Post))
    {
         @Html.HiddenFor(u => u.HotelID)
         <div id="qms-detail-table-wrapper" class="center">           
            <div class="table-responsive">
                <table class="table table-striped table-bordered">
                    <tr style="visibility:hidden">
                        <th>
                            @Html.LabelFor(m => m.Secret, new { @id = "lblSecret" })
                        </th>
                        <td>
                            @Html.CheckBoxFor(m => m.Secret, new { @id = "cbxSecret" })
                        </td>
                    </tr>
                    <tr>
                        <th>
                            @Html.LabelFor(m => m.Creditcards, Resources.CreditCardNotRequiredForReservation, new { @id = "lblCreditCardNotRequired" })
                        </th>
                        <td>
                            @Html.CheckBoxFor(m => m.Creditcards, new { @id = "cbxCreditCardNotRequired" })
                        </td>
                    </tr>
                    <tr>
                        <th>
                            @Html.LabelFor(m => m.CultureID, Resources.NotificationCulture, new { @id = "lblNotificationCulture" })
                        </th>
                        <td>
                            @(Html.Kendo().DropDownListFor(m => m.CultureID)
                                .Name("Culture")                             
                                .BindTo((SelectList)ViewBag.GetCulture)
                                .HtmlAttributes(new { @style = "width: 200px;", @id = "ddlNotificationCulture", @name = "ddlNotificationCulture" })

                            )                          
                        </td>
                    </tr>

                    </table>
                </div>
            </div>
        
    }
    </div>
        <div align="center">
        <a title='Click here to Save System Setting' style='text-decoration:underline;'>
        <input type="button" value="@Resources.Save" onclick="SaveSysConfiguration()" class="k-button" style="width:200px; height:50px; background-color:#0062D9; color:white; font-weight:bold;" />
        </a>
        <br />
        <label id="lblSuccess" style="color:green;font-size:medium;display:none;">@Resources.SaveSuccessFully</label>
</div>

<script>
    function SaveSysConfiguration() {
        var Secret;
        var CreditCard;
        if (document.getElementById('cbxSecret').checked == true)
        {
            Secret = "True";
        }
        else {
            Secret = "False";
        }
        if (document.getElementById('cbxCreditCardNotRequired').checked == true)
        {
            CreditCard = "True";
        }
        else {
            CreditCard = "False";
        }
       // var Secret = document.getElementById('cbxSecret').value;
       // alert(Secret)
      //  var CreditCard = document.getElementById('cbxCreditCardNotRequired').value;
       // alert(CreditCard)
        var NotificationCulture = document.getElementById('ddlNotificationCulture').value;
      ///  alert(NotificationCulture)
        if (Secret != "" && CreditCard != "" && NotificationCulture != "") {
            var json = {
                Secret: Secret, CreditCard: CreditCard, NotificationCulture: NotificationCulture
            }
            $.ajax({
                type: "Get",
                url: "/SystemConfiguration/SysConfiguration",
                data: json,
                datatype: "JSON",
                success: function (res) {
                    if (res != 0) {
                        document.getElementById("lblSuccess").style.display = "";
                        //alert(res);
                    }
                }
            })
        }
    }
</script>




<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-63530100-1', 'auto');
    ga('send', 'pageview');

</script>