@model gbsExtranetMVC.Models.Repositories.PropertyReviewExt
@using Resources
@using MessageColumnCaptions
@{

    ViewBag.Title = "PropertyReviews";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .VerticalPointBar {
        Width: 20px;
        background-color: #8dc2c2;
        margin: 2px;
    }
    .PointBar {
        Height: 10px;
        background-color: Red;
        margin: 2px;
    }
    .vertical {
        /*display: inline-block;*/
        /*width: 20%;*/
        height: 40px;
        -webkit-transform: rotate(-90deg); /* Chrome, Safari, Opera */
        transform: rotate(-90deg);
    }

    .vertical {
        box-shadow: inset 0px 4px 6px #ccc;
    }
</style>

<script>

    $(document).ready(function () {
        GetReviews();
    })

    function GetReviews() {
        var json = {}
        $.ajax({
            type: "GET",
            url: "/PropertyReviews/GetReviews",
            data: json,
            datatype: "json",
            success: function (data) {
                //alert(data)
                if (data != "") {
                    GetReviews1();
                    var count = 1;
                    //var sfdsfsdfs = document.getElementById("lblReviewCount").value;
                    //alert(sfdsfsdfs)
                    $.each(data, function (key, val) {
                        //val.height1='20px;'
                        //onclick="ShowPromotion(' + val.ID + ',' + val.PromotionType + ')"
                        
                        document.getElementById("lblreview").innerHTML = val.FirstReviewTypeEvaluationName + '(' + val.FirstAveragePoint + ')';



                        if (count == 1) {
                            // alert(count)
                            $('#reviews').append(
                           '<div class="col-md-4" style="    text-align: center;">' +
                         '<label style="color: Green; font-size: 16pt; font-weight:700;margin-top: 30px;"><span><span>@Resources.HotelAveragePoint</span></span></label>' +
                         '<br/>' +
                         '<label style="color: Orange;font-size: 13pt; font-weight:600;"><span style="font-size: larger;">' + val.FirstAveragePoint + '</span>/5 - ' + val.FirstReviewTypeEvaluationName + '</label>' +
                         '</br>' +
                         '<label style="font-size: 12pt; font-weight:600;color: black;">' + val.ReviewTypeCount1 + '</label>' +
                          '<label style="font-size: 12pt; font-weight:600;color: black;">&nbsp;@Resources.Review</label>' +
                         '</div>'
                       );
                            count = count + 1;
                        }
                        //if (val.height1 <= '100px') {
                        // alert("if")
                        $('#reviews').append(

                            '<div class="col-md-8" style="width: 100px;">' +
                            '<div style="padding-left: 25px;">' +
                            '<div>' +
                            '  <label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;    margin-bottom: 20px;">' + val.ReviewTypeEvaluationName + '&nbsp;(' + val.AveragePoint + ')</label> ' +
                            '</div>' +
                         '</br>' +

                         '</br>' +

                           // '<label class="VerticalPointBar" id="divPoint" style="height: ' + val.height1 + ';"></label>' +
                           '<div align="center" class="progress vertical" style="border-radius:5px;margin-left: -15px;overflow: inherit;margin-bottom: 20px;">' +
                             '<div align="center" class="progress-bar progress-bar-info " role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:' + val.height1 + ';border-radius:5px;">' +
                             '</div>' +
                             '</div>' +
                            //'<div class="progress vertical">' +
                            //'<label progress-bar progress-bar-info" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:' + val.height1 + ';"></label>' +
                            ////'<label class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:' + val.height1 + ';"></label>' +
                            //////'<div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:' + val.height1 + ';">' +
                            //////'<span class="sr-only">70% Complete</span>'+
                            //////'</div>'+
                            //'</div>'+


                            '<label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;width: 80px;word-wrap: break-word;">' + val.ReviewTypeName + '</label>' +
                            '</div>' +
                            '</div>'
                            );
                        //}
                        //else if (val.height1 <= '30px' && val.height1 >= '20px') {

                        //   // alert("else")
                        //    $('#reviews').append(

                        //      '<div class="col-md-8" style="width: 100px;line-height: 18px;">' +

                        //      '<div style="padding-left: 25px;>' +
                        //    '<div>' +
                        //    '  <label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;">' + val.ReviewTypeEvaluationName + '&nbsp;(' + val.AveragePoint + ')</label> ' +
                        //    '</div>' +
                        // '</br>' +

                        // '</br>' +

                        //   // '<label class="VerticalPointBar" id="divPoint" style="height: ' + val.height1 + ';"></label>' +
                        //   '<div align="center" class="progress vertical" style="border-radius:5px;margin-left: -15px;">' +
                        //     '<div align="center" class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:' + val.height1 + ';">' +
                        //     '</div>' +
                        //     '</div>' +


                        //      //'<div style="padding-left: 25px;">' +
                        //      //'  <label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;">' + val.ReviewTypeEvaluationName + '&nbsp;(' + val.AveragePoint + ')</label> ' +
                        //      //'<label class="VerticalPointBar" id="divPoint" style="height: ' + val.height1 + ';"></label>' +
                        //      ' <label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;width: 80px;word-wrap: break-word;">' + val.ReviewTypeName + '</label>' +
                        //      '</div>' +
                        //      '</div>'
                        //   );

                        //}
                        //else if (val.height1 <= '40px' && val.height1 >= '30px') {

                        //    // alert("else")
                        //    $('#reviews').append(

                        //      '<div class="col-md-8" style="width: 100px;line-height: 18px;">' +
                        //      '<div style="padding-left: 25px;padding-top: 65px;">' +
                        //      '  <label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;">' + val.ReviewTypeEvaluationName + '&nbsp;(' + val.AveragePoint + ')</label> ' +
                        //      '<label class="VerticalPointBar" id="divPoint" style="height: ' + val.height1 + ';"></label>' +
                        //      ' <label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;width: 80px;word-wrap: break-word;">' + val.ReviewTypeName + '</label>' +
                        //      '</div>' +
                        //      '</div>'
                        //   );

                        //}
                        //else if (val.height1 <= '40px' && val.height1 >= '50px') {

                        //    // alert("else")
                        //    $('#reviews').append(

                        //      '<div class="col-md-8" style="width: 100px;line-height: 18px;">' +
                        //      '<div style="padding-left: 25px;padding-top: 52px;">' +
                        //      '  <label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;">' + val.ReviewTypeEvaluationName + '&nbsp;(' + val.AveragePoint + ')</label> ' +
                        //      '<label class="VerticalPointBar" id="divPoint" style="height: ' + val.height1 + ';"></label>' +
                        //      ' <label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;width: 80px;word-wrap: break-word;">' + val.ReviewTypeName + '</label>' +
                        //      '</div>' +
                        //      '</div>'
                        //   );

                        //}

                    })



                }
                else {
                    $('#reviews').append(
                                  '<div class="col-md-4" style="    text-align: center;">' +
                         '<label style="color: Green; font-size: 16pt; font-weight:700;margin-top: 30px;">Average Property Point</label>' +
                         '<br/>' +
                         '</br>' +
                         '<label style="color: black;font-size: 13pt; font-weight:600;"><span style="font-size: larger;">0 Reviews</label>' +

                         '</div>'
                               );
                    $('#review11').append(
                                 '<div class="col-md-4" style="    text-align: center;">' +

                        '<br/>' +
                        '</br>' +
                        '<label style="color: black;font-size: 13pt; font-weight:600;"><span style="font-size: larger;">No Reviews to dispaly</label>' +

                        '</div>'
                              );
                }


            }
        })
    }


    function GetReviews1() {
        var json = {}
        $.ajax({
            type: "GET",
            url: "/PropertyReviews/GetReviews1",
            data: json,
            datatype: "json",
            success: function (data) {
                //alert(data)
                var count = 1;
                var count1 = 1;
                var ReviewID;
               
                $.each(data, function (key, val) {
                    document.getElementById("lblReviewCount").value = val.ReviewCount1;
                    var ReservationReviewID = val.ReservationReviewID;
                   
                    var asdasdasd = document.getElementById("lblreview").innerHTML;
                   // alert(ReservationReviewID)
                    if (ReservationReviewID != 0) {
                        if (ReviewID != ReservationReviewID) {
                            //alert("if")
                            if (count == 1 || ReviewID != ReservationReviewID) {
                                //alert(count)
                                //alert("hi")
                                document.getElementById("hdnReservationReviewID").value = val.ReservationReviewID;
                                ReviewID = document.getElementById("hdnReservationReviewID").value;
                                //alert(ReviewID)
                            }
                            count = count + 1;
                            //alert(ReservationReviewID)
                            //if()
                            $("#tblReservationReview").append(

                                '<div id="review11">' +
                                //(val.LoggedUserID == val.CommentAlumniId ?
                                //''
                                //: ''
                                //)+
                                ' <div class="col-md-7"  style="margin-top:20px;border-top:1px solid gray;">' +
                                    '<label style="float: left; color: black; font-size: 14px; font-weight: 600; margin: 7px; "> ' + val.ReviewInfo + '</label>' +
                                    '</div>' +
                                    ' <div class="col-md-5" style="margin-top:20px;border-top:1px solid gray;    padding-top: 15px;">' +
                                    '<div class="col-md-12" style="display: flex;">'+
                                      '<div align="right" style="width:100px;">'+
                                      '<label id="lblAverage" style="font-family: Tahoma; font-size: 13px; font-weight: bold; color: #333333; padding-right: 8px;">@Resources.Average</label>'+
                                        '</div>'+
                                        '<div align="right" style=" margin-top: 4px;display: flex;">' +
                                        '<div id="sfsd">'+
                                        '<div class="progress"style="border-radius: 3px;">' +
                                        '<div class="progress" style="border-radius: 3px;">' +
                                        '<div class="progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:150px;background-color: Green;">' +
                                        '</div>' +
                                        '</div>'+
                                        '</div>'+
                                        '</div>' +
                                        '<div>'+
                                        '<label id="lblreview" style="font-family: Tahoma; font-size: 13px; font-weight: bold; color: #333333; padding-left: 8px;">' + asdasdasd + '</label>' +
                                        ' </div>'+
                                    '</div>' +
                                    '</div>' +

                                     '<div class="col-md-12"  style="display: flex;height: 32px;">' +
                                ' <div align="right" style="width:100px;">' +
                                '<label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;padding-right: 8px;width: 80px;word-wrap: break-word;">' + val.ReviewTypeName + '</label> ' +
                                '</div>' +
                                '<br/>' +
                                '<br/>' +
                                '<div align="right" style=" margin-top: 4px;">' +


                                '<div class="progress" style="border-radius: 3px;">' +
                                '<div class="progress-bar " role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width: ' + val.width1 + ';background-color: Red;">' +
                                '</div>' +
                                '</div>' +
                                //'<label class="PointBar" id="divPoint" style="width: ' + val.width1 + ';"></label>' +
                                '</div>' +
                                '<br/>' +
                                '<br/>' +
                                '<div>' +
                                ' <label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;padding-left: 8px;">' + val.ReviewTypeScaleName + '</label>' +
                                '</div>' +
                                '<br/>' +
                                '<br/>' +
                                '</div>' +
                                '</div>'+

                                '</div>'

                                )


                        }
                        else if (ReviewID == ReservationReviewID) {
                            //alert("else if")
                            $("#tblReservationReview").append(

                             
                              ' <div class="col-md-7" >' +
                                 
                                  '</div>' +
                                  ' <div class="col-md-5" >' +
                                  

                                   '<div class="col-md-12"  style="display: flex;height: 32px;">' +
                              ' <div align="right" style="width:100px;">' +
                              '<label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;padding-right: 8px;width: 80px;word-wrap: break-word;">' + val.ReviewTypeName + '</label> ' +
                              '</div>' +
                              '<br/>' +
                              '<br/>' +
                              '<div align="right" style=" margin-top: 4px;">' +


                              '<div class="progress" style="border-radius: 3px;">' +
                              '<div class="progress-bar " role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width: ' + val.width1 + ';background-color: Red;">' +
                              '</div>' +
                              '</div>' +
                              //'<label class="PointBar" id="divPoint" style="width: ' + val.width1 + ';"></label>' +
                              '</div>' +
                              '<br/>' +
                              '<br/>' +
                              '<div>' +
                              ' <label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;padding-left: 8px;">' + val.ReviewTypeScaleName + '</label>' +
                              '</div>' +
                              '<br/>' +
                              '<br/>' +
                              '</div>' +
                               

                              '</div>'

                              )
                        }
                       
                    }
                })
            }
        })
    }

//    function GetReviews1() {
//        var json = {}
//        $.ajax({
//            type: "GET",
//            url: "/PropertyReviews/GetReviews1",
//            data: json,
//            datatype: "json",
//            success: function (data) {
//                //alert(data)
//                if (data != "") {
//                    //alert("if")
//                    var count = 1;

//                    $.each(data, function (key, val) {
//                        //var asfasd = val.width3;
//                        //alert(asfasd)
//                        // var zfsfsf = val.width3;
//                        //alert(zfsfsf)
//                        document.getElementById("lblReviewCount").innerHTML = val.ReviewCount1;
//                        document.getElementById("lblReviewInfo").innerHTML = val.ReviewInfo;

//                        //        //onclick="ShowPromotion(' + val.ID + ',' + val.PromotionType + ')"

//                        if (count == 1) {
//                            //alert(count)
//                            $('#sfsd').append(


////                                '<div class="progress progress-striped active"style="border-radius: 3px;">' +
////    '<div class="progress-bar progress-bar-success" role="progressbar" data-transitiongoal="40" style="width:150px;"></div>' +
////'</div>'
//                                  '<div class="progress" style="border-radius: 3px;">' +
//                                 '<div class="progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:150px;background-color: Green;">' +
//                                 '</div>' +
//                                 '</div>'
//                       );
//                            count = count + 1;
//                            //alert(count)
//                        }
//                        if (val.ReviewTypeName != null) {
//                            $('#reviews1').append(
//                                '<div class="col-md-12"  style="display: flex;height: 32px;">' +
//                                ' <div align="right" style="width:100px;">' +
//                                '<label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;padding-right: 8px;width: 80px;word-wrap: break-word;">' + val.ReviewTypeName + '</label> ' +
//                                '</div>' +
//                                '<br/>' +
//                                '<br/>' +
//                                '<div align="right" style=" margin-top: 4px;">' +


//                                '<div class="progress" style="border-radius: 3px;">' +
//                                '<div class="progress-bar " role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width: ' + val.width1 + ';background-color: Red;">' +
//                                '</div>' +
//                                '</div>' +
//                                //'<label class="PointBar" id="divPoint" style="width: ' + val.width1 + ';"></label>' +
//                                '</div>' +
//                                '<br/>' +
//                                '<br/>' +
//                                '<div>' +
//                                ' <label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;padding-left: 8px;">' + val.ReviewTypeScaleName + '</label>' +
//                                '</div>' +
//                                '<br/>' +
//                                '<br/>' +
//                                '</div>' +
//                                '</div>'
//                                );
//                        }
//                        else {

//                            ' <div align="right" style="width:100px;display:none">' +
//                            '<label style="display: block;color: #253c71;font-size: 13px;font-weight: bold;font-family: Tahoma;">' + val.ReviewTypeName + '</label> ' +
//                            '</div>' +
//                            '<br/>' +
//                            '<br/>' +
//                            '<div align="right" style=" margin-top: 4px;">' +
//                            '<label class="PointBar" id="divPoint" style="height: ' + val.height1 + ';"></label>' +
//                            '</div>' +
//                            '<br/>' +
//                            '<br/>' +
//                            '<div>' +
//                            ' <label style="display: block;font-family: Tahoma;font-size: 13px;font-weight: bold;color: #333333;">' + val.ReviewTypeScaleName + '</label>' +
//                            '</div>' +
//                            '<br/>' +
//                            '<br/>' +
//                            '</div>'

//                        }
//                    })

//                }

//                else {

//                }
//                //else {
//                //    alert("else")
//                //    $('#review11').append(
//                //              '<div class="col-md-12"  style="display: none;">' +
//                //              '</div>'
//                //              );
//                //}

//            }



//        })
//    }
</script>

<h2 style="color: black; text-align: center;">@MessageColumnCaptions.DynamicPageTitle("AdminHotelReview.aspx")</h2>
<div class="col-md-12">
    <div id="reviews" style="min-height: 190px; background-color: rgb(236, 231, 207); padding: 5px 10px 10px; border: 1px solid rgb(221, 215, 180);">

    </div>
 

    </div>
<br />
<br />
<br />
<div id="tblReservationReview">

</div>

                <div style="display:none;">
                    
                    
                    <label  id="lblreview" style="font-family: Tahoma; font-size: 13px; font-weight: bold; color: #333333; padding-left: 8px;"></label>
               </div>
          
<input type="hidden" id="hdnReservationReviewID" />
<input type="hidden" id="lblReviewCount" />



<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-63530100-1', 'auto');
    ga('send', 'pageview');

</script>